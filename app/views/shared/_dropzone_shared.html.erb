<script>
    var thumbnail;
    function back_files(type) {
        thumbnail = $('.dz-image:last');
        cases_background(type);
    };

    function back_files_news(file, done) {
        thumbnail = $('.dropzone .dz-preview.dz-file-preview .dz-image:last');
        cases_background(file.type);
        done();
    }

    function cases_background(type){
        switch (type) {
            case 'application/pdf':
                thumbnail.css('background', 'url(<%= image_url("dropzone/pdf-icon.png") %>)');
                break;
            case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':
                thumbnail.css('background', 'url(<%= image_url("dropzone/word-icon.png") %>)');
                break;
            case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':
                thumbnail.css('background', 'url(<%= image_url("dropzone/xls-icon.png") %>)');
                break;
            case 'text/csv':
                thumbnail.css('background', 'url(<%= image_url("dropzone/xls-icon.png") %>)');
                break;
            default:
                thumbnail.css('background', 'url(<%= image_url("dropzone/default-file-icon.png") %>)');
                break;
        }
    }

    function noImage(mockFile){
        var thumbnail = $('.dz-image:last');
        var type = mockFile.type;
        $(thumbnail).each(function (i) {
            if (type != 'image/png' && type != 'image/jpeg' && type != 'image/jpg' && type != 'image/gif') {
                $(thumbnail).children().removeAttr('src alt');
                back_files(type);
            }
            return false;
        });
    }
</script>